# π—‘οΈ ν•¨κ»μ¤μ¤ (Hamkae) - μ•μ–‘μ‹ μ“°λ κΈ° λ¬Έμ  ν•΄κ²°μ„ μ„ν• μ‹λ―Ό μ°Έμ—¬ν• ν”λ«νΌ

## π“‹ ν”„λ΅μ νΈ κ°μ”

**ν•¨κ»μ¤μ¤**μ€ μ•μ–‘μ‹μ μ“°λ κΈ° λ¬Έμ λ¥Ό ν•΄κ²°ν•κΈ° μ„ν• μ‹λ―Ό μ°Έμ—¬ν• ν”λ«νΌμ…λ‹λ‹¤. μ‹λ―Όλ“¤μ΄ μ“°λ κΈ°λ¥Ό λ°κ²¬ν•λ©΄ μ λ³΄ν•κ³ , μ²­μ† ν›„ μΈμ¦ μ‚¬μ§„μ„ μ—…λ΅λ“ν•λ©΄ AIκ°€ κ²€μ¦ν•μ—¬ ν¬μΈνΈλ¥Ό μ§€κΈ‰ν•λ” μ‹μ¤ν…μ…λ‹λ‹¤.

### π― μ£Όμ” κΈ°λ¥
- **μ“°λ κΈ° μ λ³΄**: GPS κΈ°λ° μ„μΉ λ§μ»¤ λ“±λ΅ (λ‹¤μ¤‘ μ‚¬μ§„ μ—…λ΅λ“ μ§€μ›)
- **μ²­μ† μΈμ¦**: μ²­μ† μ™„λ£ μ‚¬μ§„ μ—…λ΅λ“ λ° μλ™ νƒ€μ… λ¶„λ¥ (BEFORE/AFTER)
- **AI κ²€μ¦**: GPT-4oλ¥Ό ν†µν• μ²­μ† μ „ν›„ μ‚¬μ§„ λΉ„κµ κ²€μ¦ (μ‹ λΆ°λ„ κΈ°λ° λ³΄λ„μ¤)
- **ν¬μΈνΈ μ‹μ¤ν…**: κ²€μ¦ μ™„λ£ μ‹ μλ™ ν¬μΈνΈ μ λ¦½ (100pt + λ³΄λ„μ¤ μµλ€ 20pt)
- **μƒν’κ¶ κµν™**: ν¬μΈνΈλ΅ μƒν’κ¶ μ¦‰μ‹ κµν™ λ° ν•€λ²νΈ μλ™ λ°κΈ‰
- **μ‚¬μ©μ ν”„λ΅ν•„**: ν™λ™ ν†µκ³„, ν¬μΈνΈ ν„ν™©, κµν™ μ΄λ ¥ κ΄€λ¦¬
- **μ‹λ―Ό μ°Έμ—¬**: μ•μ–‘μ‹λ―Όλ“¤μ ν™κ²½ λ³΄νΈ ν™λ™ μ¥λ ¤ λ° λ³΄μƒ

---

## π—οΈ κΈ°μ  μ¤νƒ

### Backend
- **Framework**: Spring Boot 3.5.4
- **Language**: Java 21
- **Build Tool**: Gradle
- **Database**: MySQL 8.0
- **ORM**: Spring Data JPA (Hibernate)
- **Security**: JWT + BCrypt (Spring Security λ―Έμ‚¬μ©)

### AI & External APIs
- **AI κ²€μ¦**: OpenAI GPT API
- **μ§€λ„ API**: (ν”„λ΅ νΈμ—”λ“μ—μ„ μ²λ¦¬)

---

## π“ λ°μ΄ν„°λ² μ΄μ¤ μ„¤κ³„

### ERD λ‹¤μ΄μ–΄κ·Έλ¨
- **νμΌ**: `together_erd.dbml`
- **λ„κµ¬**: dbdiagram.ioμ—μ„ ν™•μΈ κ°€λ¥

### μ£Όμ” ν…μ΄λΈ”
1. **users** - μ‚¬μ©μ μ •λ³΄ λ° ν¬μΈνΈ κ΄€λ¦¬
2. **markers** - μ“°λ κΈ° μ„μΉ λ§μ»¤ μ •λ³΄
3. **photos** - μ λ³΄/μΈμ¦ μ‚¬μ§„ κ΄€λ¦¬ (BEFORE/AFTER νƒ€μ…)
4. **point_history** - ν¬μΈνΈ μ λ¦½/μ‚¬μ© μ΄λ ¥ (EARNED/USED νƒ€μ…)
5. **rewards** - μƒν’κ¶ κµν™ μ”μ²­ (μ¦‰μ‹ μΉμΈ μ‹μ¤ν…)
6. **reward_pins** - μƒν’κ¶ ν•€λ²νΈ κ΄€λ¦¬ (16μλ¦¬, 1λ…„ μ ν¨)

---

## π€ κ°λ° ν„ν™©

### β… μ™„λ£λ κΈ°λ¥

#### 1. μ‚¬μ©μ μΈμ¦ μ‹μ¤ν… (2025-08-13)
- **User μ—”ν‹°ν‹°**: μ΄λ¦„, μ•„μ΄λ””, λΉ„λ°€λ²νΈ, ν¬μΈνΈ, μƒμ„±/μμ •μΌμ‹
- **νμ›κ°€μ… API**: `POST /auth/register`
- **λ΅κ·ΈμΈ API**: `POST /auth/login` (JWT ν† ν° λ°κΈ‰)
- **λΉ„λ°€λ²νΈ μ•”νΈν™”**: BCrypt μ‚¬μ©
- **JWT ν† ν° κ΄€λ¦¬**: 24μ‹κ°„ μ ν¨κΈ°κ°„

#### 2. λ§μ»¤ κ΄€λ¦¬ μ‹μ¤ν… (2025-08-13)
- **Marker μ—”ν‹°ν‹°**: μ„μΉ(lat, lng), μ„¤λ…, μƒνƒ, μ λ³΄μ, μƒμ„±/μμ •μΌμ‹
- **λ§μ»¤ λ“±λ΅ API**: `POST /markers` (λ‹¤μ¤‘ μ‚¬μ§„ μ—…λ΅λ“ μ§€μ›)
- **λ§μ»¤ μ΅°ν API**: `GET /markers`, `GET /markers/{id}`
- **λ§μ»¤ μ‚­μ  API**: `DELETE /markers/{id}` (μ—°κ΄€ μ‚¬μ§„ λ° νμΌ μ™„μ „ μ‚­μ )
- **μƒνƒ κ΄€λ¦¬**: active, cleaned, removed μƒνƒ λ³€κ²½

#### 3. μ‚¬μ§„ κ΄€λ¦¬ μ‹μ¤ν… (2025-08-17) β¨ **λ€ν­ μ—…λ°μ΄νΈ!**
- **Photo μ—”ν‹°ν‹°**: νμΌλ…, κ²½λ΅, νƒ€μ…(BEFORE/AFTER), κ²€μ¦μƒνƒ, GPTμ‘λ‹µ
- **μλ™ νƒ€μ… λ¶„λ¥**: 
  - λ§μ»¤ λ“±λ΅ μ‹ μ‚¬μ§„ β†’ μλ™ `BEFORE` νƒ€μ…
  - μ²­μ† μΈμ¦ μ‚¬μ§„ β†’ μλ™ `AFTER` νƒ€μ…
- **μ΄λ―Έμ§€ ν’μ§ κ²€μ¦**: ν•΄μƒλ„, λ°κΈ°, νμΌ ν¬κΈ°, ν•μ‹ κ²€μ¦
- **μ¤‘λ³µ μ—…λ΅λ“ λ°©μ§€**: κ°™μ€ λ§μ»¤μ— κ°™μ€ νƒ€μ… μ‚¬μ§„ μ¤‘λ³µ μ—…λ΅λ“ μ°¨λ‹¨
- **μ‚¬μ§„ μ—…λ΅λ“**: λ΅μ»¬ κ²½λ΅ `uploads/images/`μ— μ €μ¥
- **νμΌ κ΄€λ¦¬**: UUID κΈ°λ° κ³ μ  νμΌλ…, λ‚ μ§λ³„ ν΄λ” κµ¬μ΅°
- **λ‹¤μ¤‘ μ‚¬μ§„ μ§€μ›**: λ§μ»¤λ‹Ή μ—¬λ¬ μ¥μ μ‚¬μ§„ μ—…λ΅λ“ κ°€λ¥

#### 4. AI κ²€μ¦ μ‹μ¤ν… (2025-08-17) β¨ **λ€ν­ κ°μ„ !**
- **GPT-4o λ¨λΈ**: μ΄λ―Έμ§€ λ¶„μ„ μ „μ© λ¨λΈλ΅ μ—…κ·Έλ μ΄λ“
- **λ‹¤λ‹¨κ³„ κ²€μ¦**: μ΄λ―Έμ§€ ν’μ§ β†’ μ„μΉ μΌμΉμ„± β†’ μ‹κ°„ κ°„κ²© β†’ AI κ²€μ¦
- **κµ¬μ²΄μ  νλ‹¨ κΈ°μ¤€**: μΈκ³µ μ“°λ κΈ° vs μμ—° μ”μ† λ…ν™• κµ¬λ¶„
- **μ •ν™•ν• ν”„λ΅¬ν”„νΈ**: κ°κ΄€μ μ΄κ³  μΈ΅μ • κ°€λ¥ν• κ²€μ¦ κΈ°μ¤€
- **μ‘λ‹µ νμ‹± κ°μ„ **: λ” μ•μ •μ μΈ JSON νμ‹± λ΅μ§

#### 5. λ„λ©”μΈ μ—”ν‹°ν‹° λ° DTO (2025-08-13)
- **ν•µμ‹¬ μ—”ν‹°ν‹°**: User, Marker, Photo, PointHistory, Reward
- **DTO ν΄λμ¤**: λ¨λ“  API μ”μ²­/μ‘λ‹µμ„ μ„ν• Data Transfer Object
- **κ΄€κ³„ λ§¤ν•‘**: 1:N κ΄€κ³„ μ„¤μ • λ° Cascade μ„¤μ •

#### 5. ν”„λ΅μ νΈ κµ¬μ΅°
- **ν¨ν‚¤μ§€ κµ¬μ΅°**: controller, service, repository, domain, DTO, config
- **κ³µν†µ μ‘λ‹µ ν•μ‹**: `ApiResponse<T>` ν΄λμ¤λ΅ μΌκ΄€λ API μ‘λ‹µ
- **CORS μ„¤μ •**: ν”„λ΅ νΈμ—”λ“ μ—°λ™μ„ μ„ν• CORS μ„¤μ •
- **ν•κΈ€ μ£Όμ„**: ν‘μ—…μ„ μ„ν• μƒμ„Έν• ν•κΈ€ μ£Όμ„ μ¶”κ°€

### β… μ™„λ£λ κΈ°λ¥ (κ³„μ†)

#### 6. ν¬μΈνΈ μ‹μ¤ν… (2025-08-20) β¨ **μ™„μ„±!**
- **ν¬μΈνΈ μ λ¦½**: AI κ²€μ¦ μΉμΈ μ‹ μλ™ ν¬μΈνΈ μ λ¦½ (κΈ°λ³Έ 100pt + μ‹ λΆ°λ„ λ³΄λ„μ¤ μµλ€ 20pt)
- **ν¬μΈνΈ μ΄λ ¥**: μ λ¦½/μ‚¬μ© λ‚΄μ—­ μƒμ„Έ κ΄€λ¦¬ λ° μ΅°ν
- **ν¬μΈνΈ ν†µκ³„**: μ΄ μ λ¦½/μ‚¬μ©/ν„μ¬ λ³΄μ  ν¬μΈνΈ ν†µκ³„
- **λΉ„λ™κΈ° μ λ¦½**: μ΄λ²¤νΈ κΈ°λ° μ•μ „ν• λΉ„λ™κΈ° ν¬μΈνΈ μ λ¦½ μ‹μ¤ν…

#### 7. μƒν’κ¶ κµν™ μ‹μ¤ν… (2025-08-20) β¨ **μ™„μ„±!**
- **μ¦‰μ‹ κµν™**: κ΄€λ¦¬μ μΉμΈ μ—†μ΄ ν¬μΈνΈλ΅ μƒν’κ¶ μ¦‰μ‹ κµν™
- **μλ™ ν•€λ²νΈ λ°κΈ‰**: κµν™ μ¦‰μ‹ 16μλ¦¬ μƒν’κ¶ ν•€λ²νΈ μλ™ μƒμ„±
- **λ‹¤μ–‘ν• κµν™ λ°©μ‹**: POST/GET λ°©μ‹, ν¬μΈνΈ μλ™κ³„μ‚° μ§€μ›
- **μƒν’κ¶ νƒ€μ…**: 5μ²μ›(5000pt), 1λ§μ›(10000pt), 3λ§μ›(30000pt)
- **ν•€λ²νΈ κ΄€λ¦¬**: λ§μ¤ν‚Ή, μ‚¬μ© μ²λ¦¬, λ§λ£ κ΄€λ¦¬

#### 8. μ‚¬μ©μ ν”„λ΅ν•„ μ‹μ¤ν… (2025-08-20) β¨ **μ™„μ„±!**
- **ν”„λ΅ν•„ μ΅°ν**: μ‚¬μ©μ κΈ°λ³Έ μ •λ³΄ λ° ν™λ™ ν†µκ³„
- **ν¬μΈνΈ ν„ν™©**: μƒμ„Έν• ν¬μΈνΈ λ³΄μ  λ° μ‚¬μ© λ‚΄μ—­
- **ν™λ™ μ”μ•½**: λ§μ»¤ μ λ³΄, μ‚¬μ§„ μ—…λ΅λ“, μƒν’κ¶ κµν™ ν†µκ³„
- **ν…μ¤νΈ λ„κµ¬**: κ°λ°μ© ν¬μΈνΈ μ„¤μ • API (λ‹¤μ–‘ν• λ°©μ‹ μ§€μ›)

### π”§ κΈ°μ μ  κ°μ„ μ‚¬ν•­ (2025-08-20)
- **LazyInitializationException ν•΄κ²°**: λΉ„λ™κΈ° μ²λ¦¬ μ‹ Hibernate μ„Έμ… λ¬Έμ  μ™„μ „ ν•΄κ²°
- **μ΄λ²¤νΈ κΈ°λ° μ•„ν‚¤ν…μ²**: Spring Eventλ¥Ό ν™μ©ν• μ•μ „ν• λΉ„λ™κΈ° μ²λ¦¬
- **κ²¬κ³ ν• μ¤λ¥ μ²λ¦¬**: 415, 400 μ—λ¬ ν•΄κ²° λ° λ‹¤μ–‘ν• μ…λ ¥ λ°©μ‹ μ§€μ›
- **μ¤λ§νΈ API**: ν¬μΈνΈ μλ™ κ³„μ‚°, λ‹¤μ¤‘ μ”μ²­ λ°©μ‹ μ§€μ›

### π“‹ μμ •λ κΈ°λ¥
- **μ‹¤μ‹κ°„ μ•λ¦Ό**: ν¬μΈνΈ μ λ¦½, μƒν’κ¶ κµν™ μ™„λ£ μ•λ¦Ό
- **ν†µκ³„ λ€μ‹λ³΄λ“**: κ΄€λ¦¬μμ© ν†µκ³„ λ° λ¶„μ„ κΈ°λ¥
- **λ¨λ°”μΌ μµμ ν™”**: μ•± μ—°λ™μ„ μ„ν• API μµμ ν™”

---

## π“ API λ…μ„Έμ„

### π“– μƒμ„Έ API λ¬Έμ„
- **νμΌ**: `ν•¨κ»μ¤μ¤_APIλ…μ„Έμ„.md`
- **ν¬λ§·**: Markdown ν•μ‹
- **λ‚΄μ©**: λ¨λ“  μ—”λ“ν¬μΈνΈ, μ”μ²­/μ‘λ‹µ ν•μ‹, κ°λ° μ°μ„ μμ„

### π”‘ μ£Όμ” API μ—”λ“ν¬μΈνΈ

#### μ‚¬μ©μ μΈμ¦
```
POST /auth/register - νμ›κ°€μ…
POST /auth/login   - λ΅κ·ΈμΈ
```

#### λ§μ»¤ κ΄€λ¦¬
```
POST   /markers     - λ§μ»¤ λ“±λ΅ (λ‹¤μ¤‘ μ‚¬μ§„ μ—…λ΅λ“ μ§€μ›)
GET    /markers     - λ¨λ“  λ§μ»¤ μ΅°ν
GET    /markers/{id} - νΉμ • λ§μ»¤ μ΅°ν
DELETE /markers/{id} - λ§μ»¤ μ‚­μ  (μ—°κ΄€ μ‚¬μ§„ λ° νμΌ μ™„μ „ μ‚­μ )
```

#### μ‚¬μ§„ κ΄€λ¦¬ β¨ **μ—…λ°μ΄νΈλ¨!**
```
POST /photos/upload/cleanup - μ²­μ† μΈμ¦μ© μ‚¬μ§„ μ—…λ΅λ“ (μλ™ AFTER νƒ€μ…)
GET  /photos/{id}           - νΉμ • μ‚¬μ§„ μ •λ³΄ μ΅°ν
GET  /photos/marker/{markerId} - λ§μ»¤λ³„ μ‚¬μ§„ λ©λ΅ μ΅°ν
```

#### AI κ²€μ¦ μ‹μ¤ν… β¨ **μ™„μ„±!**
```
POST /ai-verification/verify/{markerId} - μλ™ AI κ²€μ¦ μν–‰
GET  /ai-verification/status/{markerId} - AI κ²€μ¦ μƒνƒ μ΅°ν
GET  /ai-verification/health           - AI μ„λΉ„μ¤ μƒνƒ ν™•μΈ
```

#### ν¬μΈνΈ κ΄€λ¦¬ β¨ **NEW!**
```
GET /api/point-history            - ν¬μΈνΈ μ΄λ ¥ μ΅°ν
GET /api/point-history/statistics - ν¬μΈνΈ ν†µκ³„ μ΅°ν
GET /api/point-history/filter     - ν¬μΈνΈ μ΄λ ¥ ν•„ν„°λ§
```

#### μƒν’κ¶ κµν™ β¨ **NEW!**
```
POST /api/rewards                    - μƒν’κ¶ μ¦‰μ‹ κµν™ (JSON)
GET  /api/rewards/exchange/{type}    - κ°„νΈ μƒν’κ¶ κµν™ (GET)
GET  /api/rewards                    - κµν™ μ΄λ ¥ μ΅°ν
GET  /api/rewards/status/{status}    - μƒνƒλ³„ κµν™ μ΄λ ¥ μ΅°ν
```

#### μƒν’κ¶ ν•€λ²νΈ κ΄€λ¦¬ β¨ **NEW!**
```
GET  /api/reward-pins                  - λ‚΄ ν•€λ²νΈ λ©λ΅ μ΅°ν
GET  /api/reward-pins/available        - μ‚¬μ© κ°€λ¥ν• ν•€λ²νΈ μ΅°ν
GET  /api/reward-pins/reward/{rewardId} - μ‹¤μ  ν•€λ²νΈ μ΅°ν
POST /api/reward-pins/use/{pinNumber}  - ν•€λ²νΈ μ‚¬μ© μ²λ¦¬
GET  /api/reward-pins/info/{pinNumber} - ν•€λ²νΈ μ •λ³΄ ν™•μΈ
```

#### μ‚¬μ©μ ν”„λ΅ν•„ β¨ **NEW!**
```
GET  /api/users/profile           - μ‚¬μ©μ ν”„λ΅ν•„ μ΅°ν
GET  /api/users/points/summary    - ν¬μΈνΈ ν„ν™© μ”μ•½
GET  /api/users/activity/summary  - ν™λ™ μ”μ•½ μ΅°ν
POST /api/users/points/admin-set  - ν…μ¤νΈμ© ν¬μΈνΈ μ„¤μ • (κ°λ°μ©)
GET  /api/users/points/admin-set  - ν…μ¤νΈμ© ν¬μΈνΈ μ„¤μ • (GET λ°©μ‹)
```

**π“Έ μ‚¬μ§„ νƒ€μ… μλ™ λ¶„λ¥**
- **λ§μ»¤ λ“±λ΅ μ‹**: μ‚¬μ§„λ“¤μ΄ μλ™μΌλ΅ `BEFORE` νƒ€μ…μΌλ΅ μ €μ¥
- **μ²­μ† μΈμ¦ μ‹**: μ‚¬μ§„μ΄ μλ™μΌλ΅ `AFTER` νƒ€μ…μΌλ΅ μ €μ¥

**π μƒν’κ¶ κµν™ λ°©μ‹**
- **ν¬μΈνΈ λ…μ‹**: `{"pointsUsed": 5000, "rewardType": "FIVE_THOUSAND"}`
- **ν¬μΈνΈ μλ™κ³„μ‚°**: `{"rewardType": "FIVE_THOUSAND"}`
- **κ°„νΈ κµν™**: `GET /api/rewards/exchange/FIVE_THOUSAND`

---

## π› οΈ κ°λ° ν™κ²½ μ„¤μ •

### ν•„μ μ”κµ¬μ‚¬ν•­
- **Java**: 21 μ΄μƒ
- **MySQL**: 8.0 μ΄μƒ
- **Gradle**: 8.0 μ΄μƒ

### λ΅μ»¬ κ°λ° ν™κ²½ μ„¤μ •

#### 1. λ°μ΄ν„°λ² μ΄μ¤ μ„¤μ •
```sql
CREATE DATABASE hamkae_db;
```

#### 2. μ• ν”λ¦¬μΌ€μ΄μ… μ„¤μ •
```properties
# application.properties
spring.datasource.url=jdbc:mysql://localhost:3306/hamkae_db
spring.datasource.username=root
spring.datasource.password=wnsgk677400

# νμΌ μ—…λ΅λ“ κ²½λ΅ (Windows κ°λ°μ©)
app.upload.dir=C:/together/hamkae/uploads/images/
```

#### 3. μ• ν”λ¦¬μΌ€μ΄μ… μ‹¤ν–‰
```bash
# Gradleμ„ ν†µν• μ‹¤ν–‰
./gradlew bootRun

# λλ” IDEμ—μ„ HamkaeApplication.java μ‹¤ν–‰
```

### κ°λ° μ„λ²„ μ •λ³΄
- **ν¬νΈ**: 8080
- **URL**: http://localhost:8080
- **API λ¬Έμ„**: http://localhost:8080 (Postman ν…μ¤νΈ κ¶μ¥)

---

## π§ ν…μ¤νΈ κ°€μ΄λ“

### Postman ν…μ¤νΈ

#### νμ›κ°€μ… ν…μ¤νΈ
```http
POST http://localhost:8080/auth/register
Content-Type: application/json

{
  "name": "ν™κΈΈλ™",
  "username": "hong123",
  "password": "password123"
}
```

#### λ΅κ·ΈμΈ ν…μ¤νΈ
```http
POST http://localhost:8080/auth/login
Content-Type: application/json

{
  "username": "hong123",
  "password": "password123"
}
```

#### λ§μ»¤ λ“±λ΅ ν…μ¤νΈ (μ‚¬μ§„ ν¬ν•¨)
```http
POST http://localhost:8080/markers
Authorization: Bearer {λ΅κ·ΈμΈμ—μ„_λ°›μ€_ν† ν°}
Content-Type: multipart/form-data

Body (form-data):
- latitude: 37.5665
- longitude: 126.9780
- description: "ν…μ¤νΈ λ§μ»¤μ…λ‹λ‹¤"
- images: [μ΄λ―Έμ§€νμΌ1.jpg] (νμΌ μ„ νƒ)
- images: [μ΄λ―Έμ§€νμΌ2.jpg] (νμΌ μ„ νƒ)
```

#### μ²­μ† μΈμ¦ μ‚¬μ§„ μ—…λ΅λ“ ν…μ¤νΈ
```http
POST http://localhost:8080/photos/upload/cleanup
Authorization: Bearer {λ΅κ·ΈμΈμ—μ„_λ°›μ€_ν† ν°}
Content-Type: multipart/form-data

Body (form-data):
- marker_id: 1 (λ§μ»¤ λ“±λ΅μ—μ„ λ°›μ€ ID)
- images: [μ²­μ†μ™„λ£μ‚¬μ§„.jpg] (νμΌ μ„ νƒ)
```

#### ν¬μΈνΈ μ„¤μ • ν…μ¤νΈ (κ°λ°μ©)
```http
GET http://localhost:8080/api/users/points/admin-set?points=10000
Authorization: Bearer {λ΅κ·ΈμΈμ—μ„_λ°›μ€_ν† ν°}
```

#### κ°„νΈ μƒν’κ¶ κµν™ ν…μ¤νΈ
```http
GET http://localhost:8080/api/rewards/exchange/FIVE_THOUSAND
Authorization: Bearer {λ΅κ·ΈμΈμ—μ„_λ°›μ€_ν† ν°}
```

#### ν¬μΈνΈ μ΄λ ¥ μ΅°ν ν…μ¤νΈ
```http
GET http://localhost:8080/api/point-history
Authorization: Bearer {λ΅κ·ΈμΈμ—μ„_λ°›μ€_ν† ν°}
```

### μμƒ μ‘λ‹µ ν•μ‹
```json
{
  "success": true,
  "message": "λ΅κ·ΈμΈ μ„±κ³µ",
  "data": {
    "token": "jwt_token_here",
    "user": {
      "id": 1,
      "name": "ν™κΈΈλ™",
      "points": 0
    }
  }
}
```

---

## π“ ν”„λ΅μ νΈ κµ¬μ΅°

```
hamkae/
β”β”€β”€ src/
β”‚   β”β”€β”€ main/
β”‚   β”‚   β”β”€β”€ java/com/example/hamkae/
β”‚   β”‚   β”‚   β”β”€β”€ controller/     # API μ—”λ“ν¬μΈνΈ
β”‚   β”‚   β”‚   β”‚   β”β”€β”€ AuthController.java
β”‚   β”‚   β”‚   β”‚   β”β”€β”€ MarkerController.java
β”‚   β”‚   β”‚   β”‚   β”β”€β”€ PhotoController.java
β”‚   β”‚   β”‚   β”‚   β”β”€β”€ AiVerificationController.java
β”‚   β”‚   β”‚   β”‚   β”β”€β”€ RewardController.java
β”‚   β”‚   β”‚   β”‚   β”β”€β”€ RewardPinController.java
β”‚   β”‚   β”‚   β”‚   β””β”€β”€ UserController.java
β”‚   β”‚   β”‚   β”β”€β”€ service/        # λΉ„μ¦λ‹μ¤ λ΅μ§
β”‚   β”‚   β”‚   β”‚   β”β”€β”€ AuthService.java
β”‚   β”‚   β”‚   β”‚   β”β”€β”€ MarkerService.java
β”‚   β”‚   β”‚   β”‚   β”β”€β”€ PhotoService.java
β”‚   β”‚   β”‚   β”‚   β”β”€β”€ FileUploadService.java
β”‚   β”‚   β”‚   β”‚   β”β”€β”€ GptVerificationService.java
β”‚   β”‚   β”‚   β”‚   β”β”€β”€ AiVerificationTaskService.java
β”‚   β”‚   β”‚   β”‚   β”β”€β”€ RewardService.java
β”‚   β”‚   β”‚   β”‚   β”β”€β”€ RewardPinService.java
β”‚   β”‚   β”‚   β”‚   β”β”€β”€ PointHistoryService.java
β”‚   β”‚   β”‚   β”‚   β””β”€β”€ UserService.java
β”‚   β”‚   β”‚   β”β”€β”€ repository/     # λ°μ΄ν„° μ ‘κ·Ό κ³„μΈµ
β”‚   β”‚   β”‚   β”‚   β”β”€β”€ UserRepository.java
β”‚   β”‚   β”‚   β”‚   β”β”€β”€ MarkerRepository.java
β”‚   β”‚   β”‚   β”‚   β”β”€β”€ PhotoRepository.java
β”‚   β”‚   β”‚   β”‚   β”β”€β”€ PointHistoryRepository.java
β”‚   β”‚   β”‚   β”‚   β”β”€β”€ RewardRepository.java
β”‚   β”‚   β”‚   β”‚   β””β”€β”€ RewardPinRepository.java
β”‚   β”‚   β”‚   β”β”€β”€ domain/         # μ—”ν‹°ν‹° ν΄λμ¤
β”‚   β”‚   β”‚   β”‚   β”β”€β”€ User.java
β”‚   β”‚   β”‚   β”‚   β”β”€β”€ Marker.java
β”‚   β”‚   β”‚   β”‚   β”β”€β”€ Photo.java
β”‚   β”‚   β”‚   β”‚   β”β”€β”€ PointHistory.java
β”‚   β”‚   β”‚   β”‚   β”β”€β”€ Reward.java
β”‚   β”‚   β”‚   β”‚   β””β”€β”€ RewardPin.java
β”‚   β”‚   β”‚   β”β”€β”€ event/          # μ΄λ²¤νΈ ν΄λμ¤
β”‚   β”‚   β”‚   β”‚   β”β”€β”€ PhotoUploadedEvent.java
β”‚   β”‚   β”‚   β”‚   β””β”€β”€ PhotoEventListener.java
β”‚   β”‚   β”‚   β”β”€β”€ DTO/            # λ°μ΄ν„° μ „μ†΅ κ°μ²΄
β”‚   β”‚   β”‚   β””β”€β”€ config/         # μ„¤μ • ν΄λμ¤
β”‚   β”‚   β””β”€β”€ resources/
β”‚   β”‚       β”β”€β”€ application.properties  # λ°μ΄ν„°λ² μ΄μ¤ μ„¤μ •
β”‚   β”‚       β””β”€β”€ templates/
β”‚   β””β”€β”€ test/                   # ν…μ¤νΈ μ½”λ“
β”β”€β”€ uploads/                    # μ—…λ΅λ“λ μ΄λ―Έμ§€ μ €μ¥μ†
β”‚   β””β”€β”€ images/                 # λ‚ μ§λ³„ ν΄λ” κµ¬μ΅°
β”β”€β”€ build.gradle                # Gradle μμ΅΄μ„± μ„¤μ •
β”β”€β”€ together_erd.dbml           # λ°μ΄ν„°λ² μ΄μ¤ ERD
β”β”€β”€ ν•¨κ»μ¤μ¤_APIλ…μ„Έμ„.md        # API λ…μ„Έμ„
β””β”€β”€ README.md                   # ν”„λ΅μ νΈ λ¬Έμ„
```

---

## π€ κ°λ° μ°μ„ μμ„

### 1μμ„ (MVP ν•µμ‹¬ κΈ°λ¥) β… **μ™„λ£!**
- β… μ‚¬μ©μ μΈμ¦ (νμ›κ°€μ…/λ΅κ·ΈμΈ)
- β… λ§μ»¤ λ“±λ΅/μ΅°ν/μ‚­μ 
- β… μ‚¬μ§„ μ—…λ΅λ“ (λ‹¤μ¤‘ νμΌ μ§€μ›)
- β… μλ™ μ‚¬μ§„ νƒ€μ… λ¶„λ¥ (BEFORE/AFTER)
- β… AI κ²€μ¦ (GPT-4o κΈ°λ° μ΄λ―Έμ§€ λ¶„μ„)

### 2μμ„ (μ‚¬μ©μ κ²½ν—) β… **μ™„λ£!**
- β… ν¬μΈνΈ μ‹μ¤ν… (μ λ¦½/μ‚¬μ©/μ΄λ ¥ κ΄€λ¦¬)
- β… μƒν’κ¶ κµν™ (μ¦‰μ‹ κµν™, ν•€λ²νΈ μλ™ λ°κΈ‰)
- β… μ‚¬μ©μ ν”„λ΅ν•„ (ν™λ™ ν†µκ³„, ν¬μΈνΈ ν„ν™©)

### 3μμ„ (νΈμ κΈ°λ¥) β… **μΌλ¶€ μ™„λ£!**
- β… λ‹¤μ–‘ν• κµν™ λ°©μ‹ (POST/GET, ν¬μΈνΈ μλ™κ³„μ‚°)
- β… ν…μ¤νΈ λ„κµ¬ (κ°λ°μ© ν¬μΈνΈ μ„¤μ •)
- β… μƒμ„Έν• API λ¬Έμ„ λ° κ°€μ΄λ“
- π“‹ μ‹¤μ‹κ°„ μ•λ¦Ό μ‹μ¤ν…

---

## π‘¥ κ°λ°ν€

### λ©‹μ‚¬ ν•΄μ»¤ν†¤ 3ν€ - ν•¨κ»μ¤μ¤
- **ν”„λ΅μ νΈ**: μ•μ–‘μ‹ μ“°λ κΈ° λ¬Έμ  ν•΄κ²°μ„ μ„ν• μ‹λ―Ό μ°Έμ—¬ν• ν”λ«νΌ
- **λ©ν‘**: μµμ† κΈ°λ¥ κµ¬ν„(MVP) + μ•μ •μ μΈ λ™μ‘
- **κΈ°κ°„**: ν•΄μ»¤ν†¤ κΈ°κ°„

---

## π“ κ°λ° μΌμ§€

### 2025-08-20 (μ¤λ!) π‰ **μ‹μ¤ν… μ™„μ„±! ν¬μΈνΈ & μƒν’κ¶ μ‹μ¤ν… κµ¬μ¶•**
- β… **LazyInitializationException μ™„μ „ ν•΄κ²°**: Hibernate μ„Έμ… κ΄€λ¦¬ λ¬Έμ  ν•΄κ²°
- β… **μ΄λ²¤νΈ κΈ°λ° λΉ„λ™κΈ° μ²λ¦¬**: Spring Eventλ¥Ό ν™μ©ν• μ•μ „ν• AI κ²€μ¦ λ° ν¬μΈνΈ μ λ¦½
- β… **ν¬μΈνΈ μ‹μ¤ν… μ™„μ„±**: μλ™ μ λ¦½(100pt+λ³΄λ„μ¤20pt), μ΄λ ¥ κ΄€λ¦¬, ν†µκ³„ μ κ³µ
- β… **μƒν’κ¶ κµν™ μ‹μ¤ν… μ™„μ„±**: μ¦‰μ‹ κµν™, μλ™ ν•€λ²νΈ λ°κΈ‰, λ‹¤μ–‘ν• κµν™ λ°©μ‹ μ§€μ›
- β… **μ‚¬μ©μ ν”„λ΅ν•„ μ‹μ¤ν…**: ν™λ™ ν†µκ³„, ν¬μΈνΈ ν„ν™©, κ°λ°μ© λ„κµ¬
- β… **API μ¤λ¥ ν•΄κ²°**: 415 Unsupported Media Type, 400 Bad Request λ“± μ™„μ „ ν•΄κ²°
- β… **μ¤λ§νΈ API μ„¤κ³„**: ν¬μΈνΈ μλ™ κ³„μ‚°, λ‹¤μ¤‘ μ”μ²­ λ°©μ‹(POST/GET), μ‚¬μ©μ μΉν™”μ  μΈν„°νμ΄μ¤
- β… **κ²¬κ³ ν• μ¤λ¥ μ²λ¦¬**: null μ²΄ν¬, μ ν¨μ„± κ²€μ¦, μƒμ„Έν• μ¤λ¥ λ©”μ‹μ§€
- β… **μ™„μ „ν• λ¬Έμ„ν™”**: API.html, POSTMAN κ°€μ΄λ“ μ „λ©΄ μ—…λ°μ΄νΈ

### 2025-08-17 β¨ **AI κ²€μ¦ μ‹μ¤ν… λ€ν­ κ°μ„ !**
- β… **AI κ²€μ¦ ν•ν‰μ„± λ¬Έμ  ν•΄κ²°**: GPT-4o λ¨λΈλ΅ μ—…κ·Έλ μ΄λ“
- β… **λ‹¤λ‹¨κ³„ κ²€μ¦ μ‹μ¤ν… κµ¬ν„**: μ΄λ―Έμ§€ ν’μ§ β†’ μ„μΉ μΌμΉμ„± β†’ μ‹κ°„ κ°„κ²© β†’ AI κ²€μ¦
- β… **μ΄λ―Έμ§€ ν’μ§ κ²€μ¦ μ„λΉ„μ¤**: ν•΄μƒλ„, λ°κΈ°, νμΌ ν¬κΈ°, ν•μ‹ κ²€μ¦
- β… **μ¤‘λ³µ μ—…λ΅λ“ λ°©μ§€**: κ°™μ€ λ§μ»¤μ— κ°™μ€ νƒ€μ… μ‚¬μ§„ μ¤‘λ³µ μ—…λ΅λ“ μ°¨λ‹¨
- β… **κµ¬μ²΄μ  νλ‹¨ κΈ°μ¤€**: μΈκ³µ μ“°λ κΈ° vs μμ—° μ”μ† λ…ν™• κµ¬λ¶„
- β… **μ •ν™•ν• ν”„λ΅¬ν”„νΈ μ„¤κ³„**: κ°κ΄€μ μ΄κ³  μΈ΅μ • κ°€λ¥ν• κ²€μ¦ κΈ°μ¤€
- β… **μ‘λ‹µ νμ‹± κ°μ„ **: λ” μ•μ •μ μΈ JSON νμ‹± λ΅μ§

### 2025-08-13 β¨ **λ€ν­ μ—…λ°μ΄νΈ!**
- β… λ§μ»¤ κ΄€λ¦¬ μ‹μ¤ν… μ™„μ „ κµ¬ν„ (λ“±λ΅/μ΅°ν/μ‚­μ )
- β… μ‚¬μ§„ μ—…λ΅λ“ μ‹μ¤ν… μ™„μ „ κµ¬ν„ (λ‹¤μ¤‘ νμΌ μ§€μ›)
- β… **μλ™ μ‚¬μ§„ νƒ€μ… λ¶„λ¥ μ‹μ¤ν… κµ¬ν„** (BEFORE/AFTER)
- β… **μ²­μ† μΈμ¦μ© μ‚¬μ§„ μ—…λ΅λ“ API κµ¬ν„** (`POST /photos/upload/cleanup`)
- β… **PhotoController λ° PhotoService μ‹ κ· μƒμ„±**
- β… **PhotoRepository μ‹ κ· μƒμ„±**
- β… νμΌ μ—…λ΅λ“ μ„λΉ„μ¤ κµ¬ν„ (λ΅μ»¬ μ €μ¥, UUID νμΌλ…, λ‚ μ§λ³„ ν΄λ”)
- β… λ„λ©”μΈ μ—”ν‹°ν‹° μ™„μ „ κµ¬ν„ (User, Marker, Photo, PointHistory, Reward)
- β… λ¨λ“  DTO ν΄λμ¤ κµ¬ν„ μ™„λ£
- β… λ§μ»¤ μ‚­μ  μ‹ μ—°κ΄€ μ‚¬μ§„ λ° νμΌ μ™„μ „ μ‚­μ  κµ¬ν„
- β… JPA Auditing μ„¤μ •μΌλ΅ μλ™ νƒ€μ„μ¤νƒ¬ν”„ κ΄€λ¦¬
- β… CORS μ„¤μ •μΌλ΅ ν”„λ΅ νΈμ—”λ“ μ—°λ™ μ¤€λΉ„ μ™„λ£
- β… μƒμ„Έν• ν•κΈ€ μ£Όμ„μΌλ΅ ν‘μ—… ν™κ²½ κµ¬μ¶•

### 2025-08-12
- β… ν”„λ΅μ νΈ μ΄κΈ° μ„¤μ • μ™„λ£
- β… μ‚¬μ©μ μΈμ¦ μ‹μ¤ν… κµ¬ν„ μ™„λ£
- β… JWT + BCrypt λ³΄μ• μ„¤μ • μ™„λ£
- β… κ³µν†µ μ‘λ‹µ ν•μ‹ ν΄λμ¤ κµ¬ν„ μ™„λ£
- β… μƒμ„Έν• ν•κΈ€ μ£Όμ„ μ¶”κ°€ μ™„λ£
- β… API λ…μ„Έμ„ μ‘μ„± μ™„λ£
- β… ERD μ„¤κ³„ μ™„λ£

---

## π”— κ΄€λ ¨ λ§ν¬

- **GitHub μ €μ¥μ†**: [hackthon3-BE](https://github.com/YJlang/hackthon3-BE)
- **API λ…μ„Έμ„**: `ν•¨κ»μ¤μ¤_APIλ…μ„Έμ„.md`
- **λ°μ΄ν„°λ² μ΄μ¤ μ„¤κ³„**: `together_erd.dbml`

---

## π“ λ¬Έμμ‚¬ν•­

ν”„λ΅μ νΈ κ΄€λ ¨ λ¬Έμμ‚¬ν•­μ΄λ‚ κ°λ° μ΄μκ°€ μμΌμ‹λ©΄ GitHub Issuesλ¥Ό ν†µν•΄ μ—°λ½ν•΄μ£Όμ„Έμ”.

---

**ν•¨κ» λ§λ“¤μ–΄κ°€λ” κΉ¨λ—ν• μ•μ–‘μ‹! π—‘οΈβ¨**

